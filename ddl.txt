CREATE TABLE CIDADE (ID INTEGER AUTO_INCREMENT NOT NULL, NOME VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE OCORRENCIA (ID INTEGER AUTO_INCREMENT NOT NULL, DATA DATETIME, DESCRICAO VARCHAR(255), SOLUCAO VARCHAR(255), SITE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE RESPONSAVEL (ID INTEGER AUTO_INCREMENT NOT NULL, ENDERECO VARCHAR(255), NOME VARCHAR(255), TELEFONE VARCHAR(255), LOCAL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TECNICO (ID INTEGER AUTO_INCREMENT NOT NULL, ESPECIALIDADE VARCHAR(255), MATRICULA VARCHAR(255), NOME VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE SITE (ID INTEGER AUTO_INCREMENT NOT NULL, ALIAS VARCHAR(255), ALTURA FLOAT, CANAIS INTEGER, IP_CAMERAS VARCHAR(255), IP_CENTRAL VARCHAR(255), IP_NVR VARCHAR(255), IP_SWICTH VARCHAR(255), LATLOG VARCHAR(255), LOCAL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE LOCAL (ID INTEGER AUTO_INCREMENT NOT NULL, MEDIDOR VARCHAR(255), CIDADE_ID INTEGER, SITE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TECNICO_OCORRENCIA (ocorrencias_ID INTEGER NOT NULL, tecnicos_ID INTEGER NOT NULL, PRIMARY KEY (ocorrencias_ID, tecnicos_ID))
ALTER TABLE OCORRENCIA ADD CONSTRAINT FK_OCORRENCIA_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES SITE (ID)
ALTER TABLE RESPONSAVEL ADD CONSTRAINT FK_RESPONSAVEL_LOCAL_ID FOREIGN KEY (LOCAL_ID) REFERENCES LOCAL (ID)
ALTER TABLE SITE ADD CONSTRAINT FK_SITE_LOCAL_ID FOREIGN KEY (LOCAL_ID) REFERENCES LOCAL (ID)
ALTER TABLE LOCAL ADD CONSTRAINT FK_LOCAL_CIDADE_ID FOREIGN KEY (CIDADE_ID) REFERENCES CIDADE (ID)
ALTER TABLE LOCAL ADD CONSTRAINT FK_LOCAL_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES SITE (ID)
ALTER TABLE TECNICO_OCORRENCIA ADD CONSTRAINT FK_TECNICO_OCORRENCIA_tecnicos_ID FOREIGN KEY (tecnicos_ID) REFERENCES TECNICO (ID)
ALTER TABLE TECNICO_OCORRENCIA ADD CONSTRAINT FK_TECNICO_OCORRENCIA_ocorrencias_ID FOREIGN KEY (ocorrencias_ID) REFERENCES OCORRENCIA (ID)
